
<head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app227.us.archive.org';v.server_ms=260;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="/_static/js/bundle-playback.js?v=MzYkZ0TU" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=UHAOicsW" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("http://mazonka.com/subleq/hsq.html","20210923232655","https://web.archive.org/","web","/_static/",
	      "1632439615");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=S1zqJCYt" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->
<title>Oleg Mazonka - Languages - HIGHER SUBLEQ</title></head>
<body bgcolor="#bbbbbb" leftmargin="10" rightmargin="10">


<table border="0"><tr><td width="15%"></td><td>

<h1>HIGHER SUBLEQ</h1>

<h2>Compiler into OISC language</h2>

<a href="hsqdev.html"><b><i>Last update</i></b></a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="hsqnts.html"><b><i>Notes on making Higher Subleq</i></b></a>
&nbsp;&nbsp;&nbsp;&nbsp;
<a href="online/hsqjs.cgi"><b><i>Try it online</i></b></a>
<br><br>

Higher Subleq is a simplified typeless C language. It supports the C 
function call model and statement and expression grammar. It 
does not support structs, unions, bitfields, abstract 
declarations, and any types. There is only one type integer,
which sintacticly can be wrtten as int, char or void and
their pointers.
It does not have preprocessor.
It supports pointer arithmetic, but all pointers are just the same basic type. 
It also has a few C++ ticks:
<ul>
<li> local variable can be declared at any point inside function
<li> <tt>for</tt> has the statement in the grammar: <tt>for( int i=0; i&lt;3; i++ )</tt>
<li> C++ comments
<li> functions must be declared to be used
</ul>

<br>

The compiler and the emulator can handle bignum arithmetics.
The following program calculates the factorial (use option -b for 
bugnum arithmetic since 20! is greater than 4 byte integer)
<table border="1"><tr><td>
<pre>
int printf(char * s);
int fact(int a)
{
   if( a==1 ) return 1;
   return a*fact(a-1);
}
int main()
{
   printf( "%d", fact(20) );
}
</pre>
</td></tr></table>

<br>
Multiplication operations are realized 
through the algorithm based on subtractions [O(logN)].

<br><br>
<table border="1"><tr><th colspan="3">Download</th></tr>

<tr><td> &nbsp; Source &nbsp; </td>
  <td> &nbsp; <a href="https://web.archive.org/web/20210923232655/http://mazonka.com/subleq/hsq.cpp">hsq.cpp</a> &nbsp; <br> &nbsp; Last update March 2011 &nbsp; </td>
  <td> 
<font>
<ul>
<li> Compiler and emulator, all in 1 file
<li> Written in standard C++
<li> Does not depend on any 3rd paty library or tool&nbsp;&nbsp;&nbsp;
</ul>
</font>

</td></tr>


<tr><td> &nbsp; Tests &nbsp; </td>
  <td> &nbsp; <a href="https://web.archive.org/web/20210923232655/http://mazonka.com/subleq/testhsq.zip">testhsq.zip</a> &nbsp; </td>
  <td>
<font>
<ul>
<li> Small programs testing different features
</ul>
</font>
</td></tr>

<!--
<tr><td>Windows executable</td>
  <td> <a href="http://mazonka.com/subleq/hsq_win32.zip">hsq_win32.zip</a>. </td>
  <td> Build with MS C++ compier version 15.00.30729.01, options -EHsc -Ox
</td></tr>

<tr><td>Linux 26 executable</td>
  <td> <a href="http://mazonka.com/subleq/hsq_linux26.bz2">hsq_linux26.bz2</a>. </td>
  <td> Build with GCC 4.1.2 under CentOS 5.2, options -O2
</td></tr>

<tr><td>Linux 24 executable</td>
  <td> <a href="http://mazonka.com/subleq/hsq_linux24.bz2">hsq_linux24.bz2</a>. </td>
  <td> Build with GCC 3.3.4 under DSL, options -O2
</td></tr>
-->

</table>

<br>

Below are examples of the commands:
<pre>
&gt; hsq file.hsq     (compile and run)
&gt; hsq -a file.hsq  (produces assembly code)
&gt; hsq -q file.asq  (produces subleq code)
&gt; hsq file.sq      (run subleq)
&gt; hsq file.asq     (compile assembly and run)
&gt; hsq -ao file.asq (compile and output to stdout)
&gt; hsq -ha file     (compile as hsq and save assembly)
&gt; cat file.hsq | hsq.exe -iao | hsq -imqo | hsq -is (piped)
</pre>



<pre>
Usage: hsq [options] [files]
options:
 -e execute/emulate (defalut)
 -q output subleq code
 -a output assebmly
 -d output ITR
 -h <file> input HSQ (defalut, default for *.hsq)
 -m <file> input assembly (default for *.asm)
 -s <file> input subleq code (default for *.sq)
 -i input from stdin
 -o output to stdout
 -n nologo (defalut with -o)
 -b use bignum on emulation (default int)
</pre>



<br><br>
See also <a href="/web/20210923232655/http://mazonka.com/st/lcss.pdf"><b><i>Low Cost Subleq Supercomputer</i></b></a>

</td><td width="15%"></td></tr></table>


<hr size="3">

<i><a href="https://web.archive.org/web/20210923232655/http://mazonka.com/">Home</a></i>

<img src="/web/20210923232655im_/http://mazonka.com/addr.php?file=hsq.log"></img>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://web.archive.org/web/20210923232655/https://ssl." : "https://web.archive.org/web/20210923232655/http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5476072-1");
pageTracker._trackPageview();
</script>

</body></html>

<!--
     FILE ARCHIVED ON 23:26:55 Sep 23, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 18:27:59 Nov 17, 2022.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 118.304
  exclusion.robots: 0.296
  exclusion.robots.policy: 0.27
  RedisCDXSource: 1.379
  esindex: 0.028
  LoadShardBlock: 92.605 (3)
  PetaboxLoader3.datanode: 105.561 (4)
  CDXLines.iter: 19.12 (3)
  load_resource: 135.058
  PetaboxLoader3.resolve: 64.808
-->